{% extends 'base.html' %}
{% load static %}

{% block title %}Yeni Iris Ekle - Iris Sınıflandırma Sistemi{% endblock %}

{% block content %}
<div class="forms-container">
    <h2>Yeni Iris Örneği Ekle</h2>
    
    <div class="info-box">
        <p>Aşağıdaki formu doldurarak yeni bir Iris örneği ekleyebilirsiniz. Tüm ölçümleri santimetre (cm) cinsinden giriniz.</p>
    </div>
    
    <form method="post" action="{% url 'iris_ekle' %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="sepal_length">Çanak Yaprağı Uzunluğu (cm):</label>
            <input type="number" id="sepal_length" name="sepal_length" step="0.1" min="0" 
                   placeholder="Örn: 5.1" required value="{{ form.sepal_length.value|default:'' }}">
        </div>
        
        <div class="form-group">
            <label for="sepal_width">Çanak Yaprağı Genişliği (cm):</label>
            <input type="number" id="sepal_width" name="sepal_width" step="0.1" min="0" 
                   placeholder="Örn: 3.5" required value="{{ form.sepal_width.value|default:'' }}">
        </div>
        
        <div class="form-group">
            <label for="petal_length">Taç Yaprağı Uzunluğu (cm):</label>
            <input type="number" id="petal_length" name="petal_length" step="0.1" min="0" 
                   placeholder="Örn: 1.4" required value="{{ form.petal_length.value|default:'' }}">
        </div>
        
        <div class="form-group">
            <label for="petal_width">Taç Yaprağı Genişliği (cm):</label>
            <input type="number" id="petal_width" name="petal_width" step="0.1" min="0" 
                   placeholder="Örn: 0.2" required value="{{ form.petal_width.value|default:'' }}">
        </div>
        
        <div class="form-group">
            <label for="species">Tür:</label>
            <div style="display: flex; gap: 10px; align-items: center;">
                <select id="species" name="species" required style="flex: 1;">
                    <option value="">Tür Seçiniz</option>
                    <option value="Iris-setosa" {% if form.species.value == 'Iris-setosa' %}selected{% endif %}>Iris Setosa</option>
                    <option value="Iris-versicolor" {% if form.species.value == 'Iris-versicolor' %}selected{% endif %}>Iris Versicolor</option>
                    <option value="Iris-virginica" {% if form.species.value == 'Iris-virginica' %}selected{% endif %}>Iris Virginica</option>
                </select>
                <a href="{% url 'tahmin' %}" class="btn btn-predict">Tahmin Et</a>
            </div>
        </div>
        
        <div class="form-group">
            <label for="location">Lokasyon:</label>
            <select id="location" name="location" required>
                <option value="">Lokasyon Seçiniz...</option>
                {% for location in locations %}
                <option value="{{ location.id }}" {% if form.location.value == location.id %}selected{% endif %}>
                    {{ location.name }} - {{ location.city }}, {{ location.country }}
                </option>
                {% endfor %}
            </select>
        </div>
        
        {% if error %}
        <div class="message error">{{ error }}</div>
        {% endif %}
        
        {% if success %}
        <div class="message success">{{ success }}</div>
        {% endif %}
        
        <input type="submit" value="Iris Örneği Ekle">
        <input type="button" value="Formu Temizle" onclick="this.form.reset()">
    </form>
</div>
{% endblock %}
