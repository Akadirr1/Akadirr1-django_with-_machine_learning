{% extends 'base.html' %}
{% load static %}

{% block title %}Iris Listesi - Iris Sınıflandırma Sistemi{% endblock %}

{% block content %}
<!-- Iris Türleri Kartları -->
<div class="main-content">
    <!-- Iris Virginica Kartı -->
    <div class="iris-card">
        <div class="iris-image">
            <img src="{% static 'images/Iris_virginica.jpg' %}" alt="Iris Virginica">
        </div>
        <h3>Iris Virginica</h3>
        <p>Üç tür arasında en büyüğü, uzun taç yaprakları ve çanak yaprakları vardır. Genellikle sulak alanlarda ve çayırlarda bulunur.</p>
    </div>
    
    <!-- Iris Versicolor Kartı -->
    <div class="iris-card">
        <div class="iris-image">
            <img src="{% static 'images/Iris_versicolor_3.jpg' %}" alt="Iris Versicolor">
        </div>
        <h3>Iris Versicolor</h3>
        <p>Kendine özgü mavi-mor çiçeklere sahip orta boy tür. Mavi Bayrak İrisi olarak da bilinir.</p>
    </div>
    
    <!-- Iris Setosa Kartı -->
    <div class="iris-card">
        <div class="iris-image">
            <img src="{% static 'images/Kosaciec_szczecinkowaty_Iris_setosa.jpg' %}" alt="Iris Setosa">
        </div>
        <h3>Iris Setosa</h3>
        <p>Benzersiz kıl benzeri taç yapraklarına sahip en küçük tür. Soğuk kuzey bölgelerinde bulunur.</p>
    </div>
</div>

<!-- Veri Tablosu Bölümü -->
<div class="table-container">
    <h2>Tüm Iris Kayıtları</h2>
    
    {% if not user.is_authenticated %}
    <div class="message error">Kayıtları görüntülemek için giriş yapmalısınız!</div>
    {% elif records %}
    <div id="table-wrapper">
        <table id="records-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Çanak Uzunluğu</th>
                    <th>Çanak Genişliği</th>
                    <th>Taç Uzunluğu</th>
                    <th>Taç Genişliği</th>
                    <th>Tür</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>
                {% for record in records %}
                <tr>
                    <td>{{ record.id }}</td>
                    <td>{{ record.sepal_length }}</td>
                    <td>{{ record.sepal_width }}</td>
                    <td>{{ record.petal_length }}</td>
                    <td>{{ record.petal_width }}</td>
                    <td>{{ record.species }}</td>
                    <td>
                        <a href="{% url 'iris_guncelle' record.id %}" class="btn-action btn-edit">Güncelle</a>
                        <a href="{% url 'iris_sil' record.id %}" class="btn-action btn-delete">Sil</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="message">
        Henüz kayıtlı çiçek bulunmuyor. <a href="{% url 'iris_ekle' %}">Yeni kayıt ekleyin</a>
    </div>
    {% endif %}
</div>
{% endblock %}
